<div class="row">
  <div class="aze col-xs-1 col-1 col-md-2 col-lg-2">
    <p>To DO</p>
    <bs-sortable
      [(ngModel)]="taskService.todoTasks"
      [itemTemplate]="detailedItemTemplate"
      itemClass="sortable-item"
      itemActiveClass="sortable-item-active"
      placeholderItem="Drag here"
      placeholderClass="placeholderStyle text-center"
      wrapperClass="sortable-wrapper"
      (onChange)="limitedConsoleL('todo')"
    ></bs-sortable>
  </div>
  <div class="aze col-xs-1 col-1 col-md-2 col-lg-2">
    <p>In Progress</p>
    <bs-sortable
      [(ngModel)]="taskService.doingTasks"
      [itemTemplate]="detailedItemTemplate"
      itemClass="sortable-item"
      itemActiveClass="sortable-item-active"
      placeholderItem="Drag here"
      placeholderClass="placeholderStyle text-center"
      wrapperClass="sortable-wrapper"
      (onChange)="limitedConsoleL('doing')"
    ></bs-sortable>
  </div>

  <div class="aze col-xs-1 col-1 col-md-2 col-lg-2">
    <p>Done</p>
    <bs-sortable
      [(ngModel)]="taskService.doneTasks"
      [itemTemplate]="detailedItemTemplate"
      itemClass="sortable-item"
      itemActiveClass="sortable-item-active"
      placeholderItem="Drag here"
      placeholderClass="placeholderStyle text-center"
      wrapperClass="sortable-wrapper"
      (onChange)="limitedConsoleL('done')"
    ></bs-sortable>
  </div>
</div>

<div [class]="'modalList' + (isModalOpen ? '' : ' modalListOpen')">
  <label for="name">Title :</label>
  <input [(ngModel)]="selectedItem.name" name="name" id="name"/>
  <label for="description">Description :</label>
    <input [(ngModel)]="selectedItem.description" name="description" id="description"/>
    <label for="startDate">Date :</label>
    <input [(ngModel)]="selectedItem.startDate" name="startDate" id="startDate"/>
    <label for="endDate">Date :</label>
    <input [(ngModel)]="selectedItem.endDate" name="endDate" id="endDate"/>
  <label for="statusEnum">Status :</label>
    <input [(ngModel)]="selectedItem.statusEnum" name="statusEnum" id="statusEnum"/>
  <label for="listEntityId">Liste :</label>
  <!--<input [(ngModel)]="selectedItem.listEntityId" name="listEntityId" id="listEntityId"/>-->
  <select class="form-input" id="lists" [(ngModel)]="taskService.selectedItem.listEntityId" (ngModelChange)="onListChange($event)" name="lists">
    <option *ngFor="let listEntity of lists" [value]="listEntity.id"> {{ listEntity.name }}</option>
  </select>

  <label for="members">Membre assign√© :</label>
  <select class="form-input" id="members" [(ngModel)]="taskService.selectedItem.membreId" (ngModelChange)="onMemberChange($event)" name="members">
    <option></option>
    <option *ngFor="let membreEntity of members" [value]="membreEntity.membreId"> {{ membreEntity.username }}</option>
  </select>
  <!--<input [(ngModel)]="selectedItem.membreId" name="membreId" id="members"/>-->

  <button (click)="updateModal(); $event.preventDefault()">Save Changes</button>
  <button (click)="deleteModal(selectedItem.id); $event.preventDefault()">
    Delete
  </button>
</div>
<div
  (click)="closeModal()"
  [class]="'modalListBG' + (isModalOpen ? '' : ' modalListOpen')"
></div>

<ng-template #detailedItemTemplate let-item="item" let-index="index">
  <div
    (click)="clickHandle(item)"
    (pointerdown)="consoleL(item.value)"
    (mouseup)="onMouseUpHandle($event)"
  >
    {{ item.value.name }}
  </div>
</ng-template>
